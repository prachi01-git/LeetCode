int subarraysDivByK(int* nums, int numsSize, int k) {
    int count[k];
    for (int i = 0; i < k; ++i) count[i] = 0;

    count[0] = 1;  // To handle subarrays starting from index 0
    int prefix = 0, result = 0;

    for (int i = 0; i < numsSize; ++i) {
        prefix += nums[i];
        int mod = ((prefix % k) + k) % k;  // Ensure non-negative modulo
        result += count[mod];
        count[mod]++;
    }

    return result;
}
